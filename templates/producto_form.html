<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{{ form_title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="../static/css/pages/productos.css">
    <link rel="stylesheet" href="../static/css/components/headers.css">
    <link rel="stylesheet" href="../static/css/components/buttons.css">
</head>
<body>

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h3>{{ form_title }}</h3>
        </div>
        <div class="card-body">
            <form method="POST" action="">
                <!-- se agregan los apartados a llenar ya sea para modificar o crear se abre producto_form y se pedira esta info.  -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="nombre" class="form-label">Nombre del Producto*</label>
                        <input type="text" id="nombre" name="nombre" class="form-control"
                               value="{{ producto['nombre'] if producto else '' }}" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="departamento" class="form-label">Departamento</label>
                        <input type="text" id="departamento" name="departamento" class="form-control"
                               value="{{ producto['departamento'] if producto else '' }}">
                    </div>
                    <div class="col-md-6">
                        <label for="almacen_id" class="form-label">Almacén*</label>
                        <select id="almacen_id" name="almacen_id" class="form-select" required>
                            <option value="">Seleccione un Almacén</option>
                            {% for a in almacenes %}
                                <option value="{{ a['id'] }}"
                                    {{ 'selected' if producto and producto['almacen'] == a['id'] else '' }}>
                                    {{ a['nombre'] }} (ID: {{ a['id'] }})
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="precio" class="form-label">Precio*</label>
                        <input type="number" step="0.01" id="precio" name="precio" class="form-control"
                               value="{{ producto['precio'] if producto else '' }}" required>
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad" class="form-label">Cantidad en Stock*</label>
                        <input type="number" id="cantidad" name="cantidad" class="form-control"
                               value="{{ producto['cantidad'] if producto else '' }}" required>
                    </div>
                </div>
                <!-- y aqui se crean los botones para guardarlo o cancelar la operacion  -->
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="submit" class="btn btn-primary btn-lg">Guardar Producto</button>
                    <button type="button" class="btn btn-secondary btn-lg" onclick="window.location.href='{{ url_for('productos') }}'">Cancelar</button>
                </div>
            </form>
        </div>
        <div class="card-footer text-muted text-end">
            <small>* Campos obligatorios</small>
        </div>
    </div>
</div>

<script src="[https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js](https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js)"></script>
</body>
</html>